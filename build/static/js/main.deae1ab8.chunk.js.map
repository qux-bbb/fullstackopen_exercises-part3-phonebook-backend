{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filterValue","onChange","handlefilterValueChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Notification","message","messageType","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","id","url","delete","put","App","useState","persons","setPersons","setfilterValue","setNewName","setNewNumber","theMessage","setTheMessage","setMessageType","useEffect","console","log","personService","initialPersons","length","filterPersons","filter","toLowerCase","indexOf","event","target","preventDefault","already_added","index","window","confirm","personObject","returnedPerson","map","setTimeout","catch","error","concat","i","key","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.deae1ab8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) =>\r\n <div>filter shown with <input value={props.filterValue} onChange={props.handlefilterValueChange} /></div>\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\r\n      <div>number: <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\r\n      <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <p>{person.name} {person.number} <button onClick={deletePerson}>delete</button></p>\n  )\n}\n\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({message, messageType}) => {\r\n    const infoStyle = {\r\n      color: 'green',\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      borderStyle: 'solid',\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10\r\n    }\r\n\r\n    const errorStyle = {\r\n      color: 'red',\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      borderStyle: 'solid',\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10\r\n    }\r\n      \r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (messageType === 'info')\r\n    return (\r\n      <div style={infoStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  else // error message\r\n    return (\r\n      <div style={errorStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from \"axios\"\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteOne = id => {\n    const url = `${baseUrl}/${id}`\n    const request = axios.delete(url)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const url = `${baseUrl}/${id}`\n    const request = axios.put(url, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteOne, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filterValue, setfilterValue] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [theMessage, setTheMessage] = useState(null)\n  const [messageType, setMessageType] = useState('info')\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let already_added = false\n    for (let index = 0; index < persons.length; index++) {\n      if (newName === persons[index].name) {\n        already_added = true\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n          const personObject = {\n            name: newName,\n            number: newNumber\n          }\n          personService\n            .update(persons[index].id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== persons[index].id ? person : returnedPerson))\n              setNewName('')\n              setNewNumber('')\n              setTheMessage(`Updated ${newName}'s number`)\n              setMessageType('info')\n              setTimeout(() => {\n                setTheMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setTheMessage(`Information of ${newName} has already been removed from server`)\n              setMessageType('error')\n              setTimeout(() => {\n                setTheMessage(null)\n              }, 5000)\n            })\n        }\n        break\n      }\n    }\n\n    if (already_added)\n      console.log(`${newName} is already added to phonebook`)\n    else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setTheMessage(`Added ${newName}`)\n          setMessageType('info')\n          setTimeout(() => {\n            setTheMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handlefilterValueChange = (event) => {\n    console.log(event.target.value)\n    setfilterValue(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const deletePerson = person => {\n    if(window.confirm(`Delete ${person.name}?`)){\n      personService\n      .deleteOne(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n      .catch(error => {\n        setTheMessage(`Information of ${newName} has already been removed from server`)\n        setMessageType('error')\n        setTimeout(() => {\n          setTheMessage(null)\n        }, 5000)\n      })\n    }\n\n  }\n\n  const filterPersons = persons.filter(person => person.name.toLowerCase().indexOf(filterValue.toLowerCase()) !== -1)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={theMessage} messageType={messageType} />\n      <Filter filterValue={filterValue} handlefilterValueChange={handlefilterValueChange} />\n      <h3>add a new</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {filterPersons.map((person, i) =>\n        <Person\n          key={i}\n          person={person}\n          deletePerson={() => deletePerson(person)}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}